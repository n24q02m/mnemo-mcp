services:
  mnemo-mcp:
    build: .
    # image: n24q02m/mnemo-mcp:latest  # Use pre-built image instead of build
    stdin_open: true
    volumes:
      - mnemo-data:/data
    environment:
      DB_PATH: /data/memories.db
      # Optional: API keys for semantic search embedding
      # API_KEYS: "GOOGLE_API_KEY:AIza..."
      # Optional: Embedding backend (auto-detect by default)
      # EMBEDDING_BACKEND: "local"  # or "litellm"
      # Optional: Google Drive sync
      # SYNC_ENABLED: "true"
      # SYNC_REMOTE: "gdrive"
      # SYNC_INTERVAL: "300"
      # RCLONE_CONFIG_GDRIVE_TYPE: "drive"
      # RCLONE_CONFIG_GDRIVE_TOKEN: "<paste base64 token>"
    restart: unless-stopped

volumes:
  mnemo-data:
